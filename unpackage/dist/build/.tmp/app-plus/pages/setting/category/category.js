(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/setting/category/category"],{"23fc":function(t,e,i){"use strict";i.r(e);var n=i("c040"),a=i("324c");for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);var s=i("2877"),l=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,null,null);l.options.__file="category.vue",e["default"]=l.exports},"324c":function(t,e,i){"use strict";i.r(e);var n=i("8cef"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=a.a},"8cef":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("f9e2"));function a(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{title:"abcc",loading:!1,requestUrl:this.baseUrl+"category/list",list:[],showClearIcon:!1,inputClearValue:"",showTitleInput:!1,id:0,option:{}}},components:{uniBadge:n.default},onNavigationBarButtonTap:function(t){this.delete()},onPullDownRefresh:function(e){console.log("refresh"),setTimeout(function(){t.stopPullDownRefresh()},1e3),this.sendRequest()},methods:{delete:function(){var e=this;t.request({dataType:"json",url:this.baseUrl+"category/"+this.id+"/del",data:{},success:function(e){var i=e.data;0==i.code?(t.showToast({title:"删除成功!"}),t.navigateBack()):t.showModal({content:i.msg,showCancel:!1})},fail:function(e){t.showModal({content:e.errMsg,showCancel:!1})},complete:function(){e.loading=!1}})},edit:function(){var e=this;t.request({dataType:"json",url:this.baseUrl+"category/"+this.id+"/edit",data:{title:this.inputClearValue,parent_id:0,type:this.option.type},success:function(e){var i=e.data;0==i.code?t.showToast({title:"保存成功!"}):t.showModal({content:i.msg,showCancel:!1})},fail:function(e){t.showModal({content:e.errMsg,showCancel:!1})},complete:function(){e.loading=!1}})},clearInput:function(t){this.inputClearValue=t.target.value,t.target.value.length>0?this.showClearIcon=!0:this.showClearIcon=!1},clearIcon:function(){this.inputClearValue="",this.showClearIcon=!1},sendRequest:function(){var e=this,i=this.option;i.id>0&&(this.showTitleInput=!0,this.showClearIcon=!0,this.inputClearValue=i.title,this.id=i.id),t.request({url:this.requestUrl,data:{type:i.type,parent_id:i.parent_id},success:function(i){var n=i.data;0==n.code?e.list=n.data:t.showModal({content:n.msg,showCancel:!1})},fail:function(e){t.showModal({content:e.errMsg,showCancel:!1})},complete:function(){e.loading=!1}})},navigateTo:function(e){var i=e.id,n=e.parent_category_id;0==n&&"out"==e.type?t.navigateTo({url:"category?parent_id="+i+"&title="+e.title+"&id="+i+"&type="+e.type}):t.navigateTo({url:"../category/edit?parent_id="+n+"&id="+i+"&title="+e.title+"&type="+e.type})},navigateToNew:function(){t.navigateTo({url:"../category/edit?parent_id="+this.option.parent_id+"&type="+this.option.type})}},onLoad:function(e){console.log("category onload"),e.parent_id=void 0==e.parent_id?0:e.parent_id,e.type=void 0==e.type?"out":e.type,e.show_title=void 0==e.title?"类别管理":e.title,0==e.parent_id&&(e.show_title=("out"==e.type?"支出":"收入")+e.show_title),e.id=void 0==e.id?0:e.id,t.setNavigationBarTitle({title:e.show_title}),this.option=e,this.sendRequest()}};e.default=o}).call(this,i("649d")["default"])},c040:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"page"},[i("view",{staticClass:"uni-card",attrs:{loading:t.loading}},[i("view",{staticClass:"uni-list"},[i("view",{staticClass:"uni-list-cell",attrs:{"hover-class":"uni-list-cell-hover"}},[i("view",{directives:[{name:"show",rawName:"v-show",value:t.showTitleInput,expression:"showTitleInput"}],staticClass:"uni-form-item uni-column"},[i("view",{staticClass:"with-fun"},[i("input",{staticClass:"uni-input",attrs:{maxlength:"10",focus:"",placeholder:"请输入类别名称",value:t.inputClearValue,eventid:"7096a456-0"},on:{input:t.clearInput}}),t.showClearIcon?i("view",{staticClass:"uni-icon uni-icon-clear",attrs:{eventid:"7096a456-1"},on:{click:t.clearIcon}}):t._e(),i("view",{attrs:{eventid:"7096a456-2"},on:{click:t.edit}},[i("span",{staticClass:"uni-icon uni-icon-checkmarkempty"})])])])]),t._l(t.list,function(e,n){return i("view",{key:n,staticClass:"uni-list-cell",attrs:{"hover-class":"uni-list-cell-hover"}},[i("view",{staticClass:"uni-list-cell-navigate uni-navigate-right",attrs:{eventid:"7096a456-3-"+n},on:{click:function(i){t.navigateTo(e)}}},[t._v(t._s(e.title))])])}),i("view",{staticClass:"uni-list-cell uni-list-cell-last",attrs:{"hover-class":"uni-list-cell-hover"}},[i("view",[i("view",{staticClass:"uni-list-cell-navigate",attrs:{eventid:"7096a456-4"},on:{click:t.navigateToNew}},[i("span",{staticClass:"uni-icon uni-icon-plus"}),i("text",[t._v("添加子分类")])])])])],2)])])},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},fcd4:function(t,e,i){"use strict";i("3536");var n=o(i("b0ce")),a=o(i("23fc"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(a.default))}},[["fcd4","common/runtime","common/vendor"]]]);